(window.webpackJsonp=window.webpackJsonp||[]).push([[39,30],{501:function(e,t,o){"use strict";o.r(t);var n=o(502),r=o.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){o.d(t,e,(function(){return n[e]}))}(l);t.default=r.a},502:function(e,t,o){"use strict";o(10),o(3);var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(o(0)),l=o(63),d=l.urn_exception.init("NUXT_UPLOADER","Nuxt Uploader"),c=n(o(62)),f=n(o(500)),h=o(559),m=n(o(563)),y=n(o(564)),_=n(o(565)),v=n(o(566)),w=n(o(571));o(572),o(573),o(574),o(575),o(576),t.default=r.default.extend({data:function(){var e=c.default.conf.get("service_url")+"/media/upload";return{target:e,uppy_options:{autoProceed:!1,allowMultipleUploadBatches:!0,debug:!0,restrictions:{maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null},meta:{},onBeforeUpload:function(e){}},uppy_xhr_options:{endpoint:e,fieldName:"file",formData:!0},uppy_aws_options:{getUploadParameters:function(e){return console.log(e),c.default.trx.hooks.media.presigned(e.name,e.size,e.type).then((function(t){if(!1===t.success)throw d.create("CANNOT_GET_PRESIGNED_URL","Cannot get presigned url for [".concat(e.name,"]"));return{method:"put",url:t.payload,headers:{"Content-Type":e.type}}}))}},uppy_dashboard_options:{metaFields:[{id:"name",name:"Name",placeholder:"filename.ext"},{id:"caption",name:"Caption",placeholder:"Caption"}],trigger:null,thumbnailWidth:280,showLinkToFileUploadResult:!0,showProgressDetails:!1,hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,hideProgressAfterFinish:!1,note:null,closeModalOnClickOutside:!1,closeAfterFinish:!1,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,disablePageScrollWhenModalOpen:!0,animateOpenClose:!0,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!1,showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,browserBackButtonClose:!1,theme:"dark",autoOpenFileEditor:!1,disableLocalFiles:!1},uppy_audio_optins:{},uppy_webcam_options:{onBeforeSnapshot:function(){return Promise.resolve()},countdown:!0,modes:["video-audio","video-only","audio-only","picture"],mirror:!0,videoConstraints:{facingMode:"user",width:{min:720,ideal:1280,max:1920},height:{min:480,ideal:800,max:1080}},showRecordingLength:!1},uppy_image_editor_options:{quality:.8,cropperOptions:{viewMode:1,background:!1,autoCropArea:1,responsive:!0,croppedCanvasOptions:{}},actions:{revert:!0,rotate:!0,granularRotate:!0,flip:!0,zoomIn:!0,zoomOut:!0,cropSquare:!0,cropWidescreen:!0,cropWidescreenVertical:!0}}}},components:{Dashboard:h.Dashboard},computed:{uppy:function(){var e=this;return new f.default(this.uppy_options).use(w.default,this.uppy_aws_options).use(v.default,this.uppy_xhr_options).use(_.default,this.uppy_image_editor_options).use(m.default,this.uppy_audio_optins).use(y.default,this.uppy_webcam_options).on("file-added",(function(e){console.log("Added file",e)})).on("upload",(function(data){console.log("Starting upload ".concat(data.id," for files ").concat(data.fileIDs))})).on("upload-progress",(function(e,progress){console.log(e,progress)})).on("upload-success",(function(e,t){console.log("Upload successful",e,t)})).on("complete",(function(t){console.log("Complete: ",t);var o={src:t.successful[0].name,filename:t.successful[0].name,type:t.successful[0].type||"",size:t.successful[0].size};c.default.trx.hooks.media.insert(o).then((function(t){if(t.success){var o=t.payload;e.$emit("add-atoms",o)}}))}))}},beforeDestroy:function(){this.uppy.close()},methods:{on_submit:function(data,s){l.urn_log.debug(data),l.urn_log.debug(s)}}})},517:function(e,t,o){var content=o(535);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(30).default)("c1f24bd6",content,!0,{sourceMap:!1})},534:function(e,t,o){"use strict";o(517)},535:function(e,t,o){var n=o(29)(!1);n.push([e.i,".uppy-size--height-md .uppy-Dashboard-AddFiles-info{display:none}.uppy-Dashboard-inner{width:100%!important;border-color:#333}.uppy-size--lg .uppy-Dashboard-Item-preview,.uppy-size--md .uppy-Dashboard-Item-preview,.uppy-size--xl .uppy-Dashboard-Item,.uppy-size--xl .uppy-Dashboard-Item-preview{height:auto}.uppy-size--md .uppy-Dashboard-AddFiles-title{max-width:520px}[data-uppy-drag-drop-supported=true] .uppy-Dashboard-AddFiles{padding:42px 0}[data-uppy-theme=dark] .uppy-Dashboard-inner{background-color:#000}",""]),e.exports=n},542:function(e,t,o){"use strict";o.d(t,"a",(function(){return n})),o.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("dashboard",{attrs:{uppy:e.uppy,plugins:["Dashboard","ImageEditor","Audio","Webcam"],props:e.uppy_dashboard_options}})],1)},r=[]},548:function(e,t,o){"use strict";o.r(t);var n=o(542),r=o(501);for(var l in r)["default"].indexOf(l)<0&&function(e){o.d(t,e,(function(){return r[e]}))}(l);o(534);var d=o(2),component=Object(d.a)(r.default,n.a,n.b,!1,null,null,null);t.default=component.exports},555:function(e,t,o){"use strict";o.r(t);var n=o(556),r=o.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){o.d(t,e,(function(){return n[e]}))}(l);t.default=r.a},556:function(e,t,o){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(o(0));t.default=r.default.extend({layout:function(){return"urn-admin"},data:function(){return{}}})},771:function(e,t,o){"use strict";o.d(t,"a",(function(){return n})),o.d(t,"b",(function(){return r}));var n=function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("Uploader")],1)},r=[]},792:function(e,t,o){"use strict";o.r(t);var n=o(771),r=o(555);for(var l in r)["default"].indexOf(l)<0&&function(e){o.d(t,e,(function(){return r[e]}))}(l);var d=o(2),component=Object(d.a)(r.default,n.a,n.b,!1,null,null,null);t.default=component.exports,installComponents(component,{Uploader:o(548).default})}}]);