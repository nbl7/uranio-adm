(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{501:function(e,o,t){"use strict";t.r(o);var n=t(502),r=t.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){t.d(o,e,(function(){return n[e]}))}(l);o.default=r.a},502:function(e,o,t){"use strict";t(10),t(3);var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(o,"__esModule",{value:!0});var r=n(t(0)),l=t(63),d=l.urn_exception.init("NUXT_UPLOADER","Nuxt Uploader"),c=n(t(62)),f=n(t(500)),h=t(559),m=n(t(563)),y=n(t(564)),_=n(t(565)),v=n(t(566)),w=n(t(571));t(572),t(573),t(574),t(575),t(576),o.default=r.default.extend({data:function(){var e=c.default.conf.get("service_url")+"/media/upload";return{target:e,uppy_options:{autoProceed:!1,allowMultipleUploadBatches:!0,debug:!0,restrictions:{maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null},meta:{},onBeforeUpload:function(e){}},uppy_xhr_options:{endpoint:e,fieldName:"file",formData:!0},uppy_aws_options:{getUploadParameters:function(e){return console.log(e),c.default.trx.hooks.media.presigned(e.name,e.size,e.type).then((function(o){if(!1===o.success)throw d.create("CANNOT_GET_PRESIGNED_URL","Cannot get presigned url for [".concat(e.name,"]"));return{method:"put",url:o.payload,headers:{"Content-Type":e.type}}}))}},uppy_dashboard_options:{metaFields:[{id:"name",name:"Name",placeholder:"filename.ext"},{id:"caption",name:"Caption",placeholder:"Caption"}],trigger:null,thumbnailWidth:280,showLinkToFileUploadResult:!0,showProgressDetails:!1,hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,hideProgressAfterFinish:!1,note:null,closeModalOnClickOutside:!1,closeAfterFinish:!1,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,disablePageScrollWhenModalOpen:!0,animateOpenClose:!0,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!1,showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,browserBackButtonClose:!1,theme:"dark",autoOpenFileEditor:!1,disableLocalFiles:!1},uppy_audio_optins:{},uppy_webcam_options:{onBeforeSnapshot:function(){return Promise.resolve()},countdown:!0,modes:["video-audio","video-only","audio-only","picture"],mirror:!0,videoConstraints:{facingMode:"user",width:{min:720,ideal:1280,max:1920},height:{min:480,ideal:800,max:1080}},showRecordingLength:!1},uppy_image_editor_options:{quality:.8,cropperOptions:{viewMode:1,background:!1,autoCropArea:1,responsive:!0,croppedCanvasOptions:{}},actions:{revert:!0,rotate:!0,granularRotate:!0,flip:!0,zoomIn:!0,zoomOut:!0,cropSquare:!0,cropWidescreen:!0,cropWidescreenVertical:!0}}}},components:{Dashboard:h.Dashboard},computed:{uppy:function(){var e=this;return new f.default(this.uppy_options).use(w.default,this.uppy_aws_options).use(v.default,this.uppy_xhr_options).use(_.default,this.uppy_image_editor_options).use(m.default,this.uppy_audio_optins).use(y.default,this.uppy_webcam_options).on("file-added",(function(e){console.log("Added file",e)})).on("upload",(function(data){console.log("Starting upload ".concat(data.id," for files ").concat(data.fileIDs))})).on("upload-progress",(function(e,progress){console.log(e,progress)})).on("upload-success",(function(e,o){console.log("Upload successful",e,o)})).on("complete",(function(o){console.log("Complete: ",o);var t={src:o.successful[0].name,filename:o.successful[0].name,type:o.successful[0].type||"",size:o.successful[0].size};c.default.trx.hooks.media.insert(t).then((function(o){if(o.success){var t=o.payload;e.$emit("add-atoms",t)}}))}))}},beforeDestroy:function(){this.uppy.close()},methods:{on_submit:function(data,s){l.urn_log.debug(data),l.urn_log.debug(s)}}})},517:function(e,o,t){var content=t(535);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,t(30).default)("c1f24bd6",content,!0,{sourceMap:!1})},534:function(e,o,t){"use strict";t(517)},535:function(e,o,t){var n=t(29)(!1);n.push([e.i,".uppy-size--height-md .uppy-Dashboard-AddFiles-info{display:none}.uppy-Dashboard-inner{width:100%!important;border-color:#333}.uppy-size--lg .uppy-Dashboard-Item-preview,.uppy-size--md .uppy-Dashboard-Item-preview,.uppy-size--xl .uppy-Dashboard-Item,.uppy-size--xl .uppy-Dashboard-Item-preview{height:auto}.uppy-size--md .uppy-Dashboard-AddFiles-title{max-width:520px}[data-uppy-drag-drop-supported=true] .uppy-Dashboard-AddFiles{padding:42px 0}[data-uppy-theme=dark] .uppy-Dashboard-inner{background-color:#000}",""]),e.exports=n},542:function(e,o,t){"use strict";t.d(o,"a",(function(){return n})),t.d(o,"b",(function(){return r}));var n=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",[t("dashboard",{attrs:{uppy:e.uppy,plugins:["Dashboard","ImageEditor","Audio","Webcam"],props:e.uppy_dashboard_options}})],1)},r=[]},548:function(e,o,t){"use strict";t.r(o);var n=t(542),r=t(501);for(var l in r)["default"].indexOf(l)<0&&function(e){t.d(o,e,(function(){return r[e]}))}(l);t(534);var d=t(2),component=Object(d.a)(r.default,n.a,n.b,!1,null,null,null);o.default=component.exports}}]);