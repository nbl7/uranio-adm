(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{507:function(t,e,r){"use strict";r.r(e);var o=r(508),n=r.n(o);for(var c in o)["default"].indexOf(c)<0&&function(t){r.d(e,t,(function(){return o[t]}))}(c);e.default=n.a},508:function(t,e,r){"use strict";var o=r(51);r(40),r(31);var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.PropState=void 0;var c,l=n(r(0)),_=r(63),f=n(r(62));function y(t){var e={full_width:!1,classes:""};if(void 0===t)t=e;else for(var r=0,n=Object.entries(e);r<n.length;r++){var c=o(n[r],2),l=c[0],_=c[1],f=l;void 0===t[f]&&(t[f]=_)}return t}!function(t){t.VALID="VALID",t.WARNING="WARNING",t.ERROR="ERROR"}(c=e.PropState||(e.PropState={})),e.default=l.default.extend({props:{atom:Object,atom_name:Object,call:String},inject:["atom","atom_name"],data:function(){var t={};if(f.default.book.validate_name(this.atom_name)){for(var e=f.default.book.get_custom_property_definitions(this.atom_name),r=0,n=Object.entries(e);r<n.length;r++){var l=o(n[r],2),_=l[0],d=l[1];"update"===this.call&&d.hidden||(t[_]={name:_,style:y(d.style),optional:d.optional||!1,state:c.VALID,error_message:"",focus:!1})}if("update"===this.call)for(var v=0,m=Object.entries(f.default.core.stc.atom_hard_properties);v<m.length;v++){var h=o(m[v],2),T=h[0];h[1].hidden||(t[T]={name:T,style:y(),optional:!1,state:c.VALID,error_message:"",focus:!1})}}return{atom_props:t,error_class:!1}},methods:{on_change:function(t){this.validate_property(t)},on_keyup:function(t){this.on_change(t)},submit:function(t){this.validate_form()?this.$emit("submit_atom_form"):this.error()},submit_exit:function(t){this.validate_form()?this.$emit("submit_exit_atom_form"):this.error()},delete_atom:function(t){this.$emit("delete_atom")},go_back:function(t){this.$emit("go_back")},validate_property:function(t){var e=f.default.book.get_property_definition(this.atom_name,t),r=this.atom[t],o=this.atom_props[t];if(function(t,e,r){var o=!1,n=f.default.book.get_property_definition(t,r);if(!n.optional&&!n.hidden){var c=r;if(void 0===e[c])o=!0;else switch(n.type){case f.default.types.PropertyType.ATOM:e[c]!=={}&&""!==e[c]||(o=!0);break;case f.default.types.PropertyType.SET_NUMBER:case f.default.types.PropertyType.SET_STRING:case f.default.types.PropertyType.ATOM_ARRAY:0===e[c].length&&(o=!0);break;case f.default.types.PropertyType.BINARY:break;case f.default.types.PropertyType.TIME:case f.default.types.PropertyType.DAY:case f.default.types.PropertyType.TEXT:case f.default.types.PropertyType.LONG_TEXT:case f.default.types.PropertyType.ID:case f.default.types.PropertyType.ENUM_STRING:case f.default.types.PropertyType.ENCRYPTED:case f.default.types.PropertyType.EMAIL:e[c]||(o=!0);break;case f.default.types.PropertyType.INTEGER:case f.default.types.PropertyType.FLOAT:case f.default.types.PropertyType.ENUM_NUMBER:isNaN(e[c])&&(o=!0)}}return o}(this.atom_name,this.atom,t))return o.state=c.ERROR,o.error_message="This field is required.",!1;try{f.default.core.atom.validate.property(t,e,r,this.atom),o.state=c.VALID,o.error_message=""}catch(t){var n=t;return n.type===_.urn_exception.ExceptionType.INVALID_ATOM?(o.state=c.ERROR,o.error_message=n.msg.replace(/`([^`]*)`/g,"<code>$1</code>")):_.urn_log.error(n),!1}return!0},validate_form:function(){for(var t=!0,e=0,r=Object.entries(this.atom_props);e<r.length;e++){var n=o(r[e],2),c=n[0],l=(n[1],c);!1===this.validate_property(l)&&(t=!1,this.focus(l))}return t},error:function(){var t=this;this.error_class=!0,setTimeout((function(){return t.error_class=!1}),400)},focus:function(t){for(var e=0,r=Object.entries(this.atom_props);e<r.length;e++){var n=o(r[e],2),c=n[0];n[1];this.atom_props[c].focus=!1}this.atom_props[t].focus=!0}}})},509:function(t,e,r){"use strict";r.r(e);var o=r(510),n=r.n(o);for(var c in o)["default"].indexOf(c)<0&&function(t){r.d(e,t,(function(){return o[t]}))}(c);e.default=n.a},510:function(t,e,r){"use strict";r(10),r(31),r(41);var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var n=o(r(0)),c=r(63),l=o(r(62)),_=r(527),f=l.default.core.stc.atom_hard_properties,y=["PropertySETNUMBER","PropertySETSTRING"],d=["PropertyENUMNUMBER","PropertyENUMSTRING"];e.default=n.default.extend({props:{prop:Object,atom:Object,atom_name:String},inject:["atom","atom_name"],provide:function(){return{prop_name:this.prop.name,prop_type:this.prop_type}},computed:{prop_classes:function(){var t=this.prop.style.classes&&""!==this.prop.style.classes?" "+this.prop.style.classes:"",e="ui-".concat(this.prop_type).concat(t);return!0===this.prop.style.full_width&&(e+=" urn-full-width"),!0===this.prop.optional&&(e+=" urn-property-optional"),this.prop.state===_.PropState.ERROR&&(e+=" urn-property-error"),e}},data:function(){var t=l.default.book.get_custom_property_definitions(this.atom_name),e=this.prop.name,r="Empty",o=e,n="";switch(c.urn_util.object.has_key(f,e)?(r="PropertyReadOnly",o=f[e].label):c.urn_util.object.has_key(t,e)&&(r="Property".concat(t[e].type.replace(/_/g,"")),o=t[e].label),r){case"PropertyATOM":case"PropertyATOMARRAY":var _=t[e];n="[".concat(_.atom,"]");break;case"PropertySETNUMBER":case"PropertyENUMNUMBER":n="(number)";break;case"PropertySETSTRING":case"PropertyENUMSTRING":n="(string)"}return y.includes(r)&&(r="PropertySET"),d.includes(r)&&(r="PropertyENUM"),{prop_type:r,prop_label:o,prop_key:e,type_type:n}}})},527:function(t,e,r){"use strict";r.r(e);var o=r(545),n=r(507);for(var c in n)["default"].indexOf(c)<0&&function(t){r.d(e,t,(function(){return n[t]}))}(c);var l=r(2),component=Object(l.a)(n.default,o.a,o.b,!1,null,null,null);e.default=component.exports,installComponents(component,{Property:r(541).default,UIButton:r(298).default})},541:function(t,e,r){"use strict";r.r(e);var o=r(546),n=r(509);for(var c in n)["default"].indexOf(c)<0&&function(t){r.d(e,t,(function(){return n[t]}))}(c);var l=r(2),component=Object(l.a)(n.default,o.a,o.b,!1,null,null,null);e.default=component.exports},545:function(t,e,r){"use strict";r.d(e,"a",(function(){return o})),r.d(e,"b",(function(){return n}));var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("form",{staticClass:"ui-property-wrapper",class:{error:t.error_class},attrs:{autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)},keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.preventDefault()},keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.preventDefault()}}},[t._l(t.atom_props,(function(e,o){return r("Property",{key:o,attrs:{prop:e},nativeOn:{change:function(e){return t.on_change(o)},keyup:function(e){return t.on_keyup(o)}}})})),t._v(" "),r("div",{staticClass:"ui-single-footer"},[r("div",{staticClass:"gradient"}),t._v(" "),r("div",{staticClass:"full-bg"},[r("div",{staticClass:"left"},[r("UIButton",{staticClass:"secondary",nativeOn:{click:function(e){return e.preventDefault(),t.go_back.apply(null,arguments)}}},[t._v("Cancel")]),t._v(" "),"update"===t.call?r("UIButton",{staticClass:"secondary red",nativeOn:{click:function(e){return e.preventDefault(),t.delete_atom.apply(null,arguments)}}},[t._v("Delete")]):t._e()],1),t._v(" "),r("div",{staticClass:"right"},[r("UIButton",{attrs:{type:"submit"}},[t._v("Save")]),t._v(" "),r("UIButton",{nativeOn:{click:function(e){return e.preventDefault(),t.submit_exit.apply(null,arguments)}}},[t._v("Save / Exit")])],1)])])],2)},n=[]},546:function(t,e,r){"use strict";r.d(e,"a",(function(){return o})),r.d(e,"b",(function(){return n}));var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"ui-property",class:t.prop_classes},[r("div",{staticClass:"ui-property-header"},["Empty"!=t.prop_type&&"PropertyHIDDEN"!=t.prop_type?r("label",[t._v("\n\t\t\t"+t._s(t.prop_label)+"\n\t\t")]):t._e(),t._v(" "),"PropertyReadOnly"!==t.prop_type?r("div",{staticClass:"ui-property-data"},[r("div",{staticClass:"prop_data prop_key monospace"},[r("img",{attrs:{src:"/img/icons/png/vpn_key.png"}}),t._v("\n\t\t\t\t"+t._s(t.prop_key)+"\n\t\t\t")]),t._v(" "),r("div",{staticClass:"prop_data prop_type monospace"},[r("img",{attrs:{src:"/img/icons/png/nfc.png"}}),t._v("\n\t\t\t\t"+t._s(t.prop_type.replace("Property",""))+"\n\t\t\t\t"),""!==t.type_type?r("div",{staticClass:"prop_type_type"},[t._v("\n\t\t\t\t"+t._s(t.type_type)+"\n\t\t\t\t")]):t._e()])]):t._e()]),t._v(" "),r("div",{staticClass:"ui-property-body"},[r(t.prop_type,{tag:"component",staticClass:"ui-property-in",attrs:{focus:t.prop.focus}}),t._v(" "),r("div",{staticClass:"ui-property-error-wrapper"},[r("div",{directives:[{name:"show",rawName:"v-show",value:t.prop.error_message,expression:"prop.error_message"}],domProps:{innerHTML:t._s(t.prop.error_message)}},[t._v("\n\t\t\t\t"+t._s(t.prop.error_message)+"\n\t\t\t")])])],1)])},n=[]}}]);